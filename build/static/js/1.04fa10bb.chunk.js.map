{"version":3,"sources":["../static/js/1.04fa10bb.chunk.js","SignUp/SignUP.js","SignUp/css/signup.css","webpack:///./src/SignUp/css/signup.css?9d40"],"names":["webpackJsonp","366","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_router_dom__","__WEBPACK_IMPORTED_MODULE_2__css_signup_css__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","SignUp","_Component","this","_this","getPrototypeOf","state","username","password","email","repeatPassword","showErrorMessage","errorMessage","str","test","isValidUsername","setState","isValidPassword","isEmai","e","len","Math","floor","random","_this2","_state","alert","fetch","method","headers","Content-Type","body","JSON","stringify","userId","makeUserId","then","ret","status","Error","json","res","localStorage","setItem","data","window","location","message","catch","error","a","createElement","className","to","type","id","placeholder","onBlur","checkUsername","bind","onChange","handleChangeUsername","checkPassword","handleChangePassword","handleChangeRepeatPassword","checkRepeatPassword","checkEmail","handleChangeEmail","onClick","handleOnSubmit","role","372","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","376","content","options","transform","locals"],"mappings":"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","file":"static/js/1.04fa10bb.chunk.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 366:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router_dom__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__css_signup_css__ = __webpack_require__(376);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__css_signup_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__css_signup_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var SignUp=function(_Component){_inherits(SignUp,_Component);function SignUp(props){_classCallCheck(this,SignUp);var _this=_possibleConstructorReturn(this,(SignUp.__proto__||Object.getPrototypeOf(SignUp)).call(this,props));_this.state={username:'',password:'',email:'',repeatPassword:'',showErrorMessage:false,errorMessage:''};return _this;}_createClass(SignUp,[{key:'isEmai',value:function isEmai(str){return /^\\w+@\\w+\\.\\w+$/.test(str);}},{key:'isValidUsername',value:function isValidUsername(str){return /^[0-9a-zA-Z\\u0391-\\uFFE5]{3,10}$/.test(str);}},{key:'isValidPassword',value:function isValidPassword(str){// if (str.length < 6 || str.length > 20 || /\\W/.test(str)) {\n//     return false;\n// }\n// var count = 0;\n// if (/[a-z]/g.test(str)) count++;\n// if (/[A-Z]/g.test(str)) count++;\n// if (/[0-9]/g.test(str)) count++;\n// if (/_/g.test(str)) count++;\n// if (count >= 2) {\n//     return true;\n// } else {\n//     return false;\n// }\nreturn /\\w{6,15}/.test(str);}},{key:'checkUsername',value:function checkUsername(){if(!this.isValidUsername(this.state.username)){this.setState({errorMessage:'请输入正确人用户名,必须3位以上',showErrorMessage:true,username:''});}else{this.setState({showErrorMessage:false});}}},{key:'checkPassword',value:function checkPassword(){if(!this.isValidPassword(this.state.password)){this.setState({errorMessage:'请输入正确的密码，必须6位以上',showErrorMessage:true,password:''});}else{this.setState({showErrorMessage:false});}}},{key:'checkRepeatPassword',value:function checkRepeatPassword(){if(this.state.password!==this.state.repeatPassword){this.setState({errorMessage:'密码不一致',showErrorMessage:true,repeatPassword:''});}}},{key:'checkEmail',value:function checkEmail(){if(!this.isEmai(this.state.email)){this.setState({errorMessage:'请输入正确的邮箱',showErrorMessage:true,email:''});}else{this.setState({showErrorMessage:false});}}},{key:'handleChangeEmail',value:function handleChangeEmail(e){this.setState({email:e.target.value});}},{key:'handleChangeUsername',value:function handleChangeUsername(e){this.setState({username:e.target.value});}},{key:'handleChangePassword',value:function handleChangePassword(e){this.setState({password:e.target.value});}},{key:'handleChangeRepeatPassword',value:function handleChangeRepeatPassword(e){this.setState({repeatPassword:e.target.value});}},{key:'makeUserId',value:function makeUserId(len){var dict=\"0123456789abcdefghijklmnopqrstuvwxyz\";var str=\"\";for(var i=0;i<len;i++){str+=dict[Math.floor(Math.random()*36)];}return str;}},{key:'handleOnSubmit',value:function handleOnSubmit(){var _this2=this;var _state=this.state,username=_state.username,password=_state.password,repeatPassword=_state.repeatPassword,email=_state.email;if(email===\"\"){alert('必须填写邮箱');return;}if(username===\"\"){alert('必须填写用户名');return;}if(password===\"\"){alert('必须填写密码');return;}if(repeatPassword===\"\"){alert('必须填写密码确认');return;}fetch('/regist',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:this.state.username,password:this.state.password,email:this.state.email,userId:this.makeUserId(10)})}).then(function(ret){if(ret.status!==200){throw new Error('Fail to get response with status'+ret.status);}ret.json().then(function(res){if(res.status===200){localStorage.setItem('userinfo',JSON.stringify(res.data));window.location=\"/\";}else if(res.status===201){_this2.setState({errorMessage:res.message,showErrorMessage:true});}}).catch(function(error){_this2.setState({errorMessage:error,showErrorMessage:true});});}).catch(function(error){_this2.setState({errorMessage:error,showErrorMessage:true});});}},{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'signUp'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"d\" /* Link */],{to:'/'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'logo'},'\\u5C0F\\u4E66')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'row'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'col-md-4'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'col-md-4 form-wrapper'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'title'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"d\" /* Link */],{className:'sign-up',to:'/sign_up'},'\\u6CE8\\u518C'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"d\" /* Link */],{to:'/sign_in'},'\\u767B\\u5F55')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'form-group'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',null,'\\u7528\\u6237\\u540D'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{type:'text',className:'form-control',id:'username',placeholder:'\\u7528\\u6237\\u540D',value:this.state.username,onBlur:this.checkUsername.bind(this),onChange:this.handleChangeUsername.bind(this)})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'form-group'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',null,'\\u5BC6\\u7801'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{type:'password',className:'form-control',id:'password',placeholder:'\\u5BC6\\u7801',value:this.state.password,onBlur:this.checkPassword.bind(this),onChange:this.handleChangePassword.bind(this)})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'form-group'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',null,'\\u786E\\u8BA4\\u5BC6\\u7801'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{type:'password',className:'form-control',id:'password',placeholder:'\\u786E\\u8BA4\\u5BC6\\u7801',value:this.state.repeatPassword,onChange:this.handleChangeRepeatPassword.bind(this),onBlur:this.checkRepeatPassword.bind(this)})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'form-group'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',null,'\\u90AE\\u7BB1'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{type:'email',className:'form-control',id:'email',placeholder:'\\u90AE\\u7BB1',value:this.state.email,onBlur:this.checkEmail.bind(this),onChange:this.handleChangeEmail.bind(this)})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'checkbox'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{type:'checkbox'}),' \\u6211\\u9075\\u5B88\\u6CE8\\u518C\\u89C4\\u5B9A')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'btn-submit'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('button',{type:'submit',id:'signup',className:'btn btn-primary',onClick:this.handleOnSubmit.bind(this)},'\\u6CE8\\u518C')),this.state.showErrorMessage?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{id:'errmsg',className:'alert alert-danger ',role:'alert'},this.state.errorMessage):\"\")));}}]);return SignUp;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (SignUp);\n\n/***/ }),\n\n/***/ 372:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(361)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".signUp{position:relative;height:100%;min-height:750px;background-color:#f1f1f1}.signUp .logo{position:absolute;font-weight:bolder;font-size:50px;left:10%;top:10%}.form-wrapper{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:1px solid #ccc;border-radius:5px;padding:20px;background:#fff;-webkit-box-shadow:0 0 8px rgba(0,0,0,.1);box-shadow:0 0 8px rgba(0,0,0,.1)}.signUp .title{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}.signUp .title a{font-size:20px;font-weight:700}.signUp .title .sign-up{padding-bottom:5px;border-bottom:3px solid orange}.btn-submit{margin-bottom:20px}\", \"\", {\"version\":3,\"sources\":[\"D:/react-express/src/SignUp/css/signup.css\"],\"names\":[],\"mappings\":\"AACA,QACI,kBAAmB,AACnB,YAAa,AACb,iBAAkB,AAClB,wBAA0B,CAC7B,AACD,cACI,kBAAmB,AACnB,mBAAoB,AACpB,eAAgB,AAChB,SAAU,AACV,OAAS,CACZ,AACD,cACI,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,uCAAwC,AACpC,mCAAoC,AAChC,+BAAgC,AACxC,sBAAuB,AACvB,kBAAmB,AACnB,aAAc,AACd,gBAAiB,AACjB,0CAA2C,AACnC,iCAAmC,CAC9C,AAED,eACI,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,4BAA8B,CACrC,AACD,iBACI,eAAgB,AAChB,eAAkB,CACrB,AACD,wBACI,mBAAoB,AACpB,8BAA+B,CAClC,AACD,YACI,kBAAoB,CACvB\",\"file\":\"signup.css\",\"sourcesContent\":[\"\\r\\n.signUp{\\r\\n    position: relative;\\r\\n    height: 100%;\\r\\n    min-height: 750px;\\r\\n    background-color: #f1f1f1;\\r\\n}\\r\\n.signUp .logo{\\r\\n    position: absolute;\\r\\n    font-weight: bolder;\\r\\n    font-size: 50px;\\r\\n    left: 10%;\\r\\n    top: 10%;\\r\\n}\\r\\n.form-wrapper{\\r\\n    position: absolute;\\r\\n    left: 50%;\\r\\n    top: 50%;\\r\\n    -webkit-transform: translate(-50%,-50%);\\r\\n        -ms-transform: translate(-50%,-50%);\\r\\n            transform: translate(-50%,-50%);\\r\\n    border: 1px solid #ccc;\\r\\n    border-radius: 5px;\\r\\n    padding: 20px;\\r\\n    background: #fff;\\r\\n    -webkit-box-shadow: 0 0 8px rgba(0,0,0,.1);\\r\\n            box-shadow: 0 0 8px rgba(0,0,0,.1);\\r\\n}\\r\\n\\r\\n.signUp .title{\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -ms-flex-pack: distribute;\\r\\n        justify-content: space-around;\\r\\n}\\r\\n.signUp .title a{\\r\\n    font-size: 20px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n.signUp .title .sign-up{\\r\\n    padding-bottom: 5px;\\r\\n    border-bottom: 3px solid orange\\r\\n}\\r\\n.btn-submit{\\r\\n    margin-bottom: 20px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 376:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(372);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(362)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--4-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./signup.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--4-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./signup.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.04fa10bb.chunk.js","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport './css/signup.css'\r\nexport default class SignUp extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            email: '',\r\n            repeatPassword: '',\r\n            showErrorMessage: false,\r\n            errorMessage: ''\r\n        }\r\n    }\r\n\r\n    isEmai(str) {\r\n        return /^\\w+@\\w+\\.\\w+$/.test(str)\r\n    }\r\n\r\n    isValidUsername(str) {\r\n        return /^[0-9a-zA-Z\\u0391-\\uFFE5]{3,10}$/.test(str)\r\n    }\r\n    isValidPassword(str) {\r\n        // if (str.length < 6 || str.length > 20 || /\\W/.test(str)) {\r\n        //     return false;\r\n        // }\r\n        // var count = 0;\r\n        // if (/[a-z]/g.test(str)) count++;\r\n        // if (/[A-Z]/g.test(str)) count++;\r\n        // if (/[0-9]/g.test(str)) count++;\r\n        // if (/_/g.test(str)) count++;\r\n        // if (count >= 2) {\r\n        //     return true;\r\n        // } else {\r\n        //     return false;\r\n        // }\r\n        return /\\w{6,15}/.test(str)\r\n    }\r\n    checkUsername() {\r\n        if (!this.isValidUsername(this.state.username)) {\r\n            this.setState({\r\n                errorMessage: '请输入正确人用户名,必须3位以上',\r\n                showErrorMessage: true,\r\n                username: ''\r\n            })\r\n        } else {\r\n            this.setState({\r\n                showErrorMessage: false,\r\n            })\r\n        }\r\n    }\r\n    checkPassword() {\r\n        if (!this.isValidPassword(this.state.password)) {\r\n            this.setState({\r\n                errorMessage: '请输入正确的密码，必须6位以上',\r\n                showErrorMessage: true,\r\n                password: ''\r\n            })\r\n        } else {\r\n            this.setState({\r\n\r\n                showErrorMessage: false\r\n            })\r\n        }\r\n    }\r\n    checkRepeatPassword() {\r\n        if (this.state.password !== this.state.repeatPassword) {\r\n            this.setState({\r\n                errorMessage: '密码不一致',\r\n                showErrorMessage: true,\r\n                repeatPassword: ''\r\n            })\r\n        }\r\n    }\r\n    checkEmail() {\r\n        if (!this.isEmai(this.state.email)) {\r\n            this.setState({\r\n                errorMessage: '请输入正确的邮箱',\r\n                showErrorMessage: true,\r\n                email: ''\r\n            })\r\n        } else {\r\n            this.setState({\r\n\r\n                showErrorMessage: false\r\n            })\r\n        }\r\n    }\r\n    handleChangeEmail(e) {\r\n        this.setState({\r\n            email: e.target.value\r\n        })\r\n    }\r\n    handleChangeUsername(e) {\r\n        this.setState({\r\n            username: e.target.value\r\n        })\r\n    }\r\n    handleChangePassword(e) {\r\n        this.setState({\r\n            password: e.target.value\r\n        })\r\n    }\r\n    handleChangeRepeatPassword(e) {\r\n        this.setState({\r\n            repeatPassword: e.target.value\r\n        })\r\n    }\r\n    makeUserId(len) {\r\n        const dict = \"0123456789abcdefghijklmnopqrstuvwxyz\";\r\n        let str = \"\";\r\n        for (var i = 0; i < len; i++) {\r\n            str += dict[Math.floor(Math.random() * 36)];\r\n        }\r\n        return str\r\n    }\r\n    handleOnSubmit() {\r\n        const { username, password, repeatPassword, email } = this.state\r\n        if (email === \"\") {\r\n            alert('必须填写邮箱')\r\n            return\r\n        }\r\n        if (username === \"\") {\r\n            alert('必须填写用户名')\r\n            return\r\n        }\r\n        if (password === \"\") {\r\n            alert('必须填写密码')\r\n            return\r\n        }\r\n        if (repeatPassword === \"\") {\r\n            alert('必须填写密码确认')\r\n            return\r\n        }\r\n        fetch('/regist', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                username: this.state.username,\r\n                password: this.state.password,\r\n                email: this.state.email,\r\n                userId: this.makeUserId(10)\r\n            })\r\n        }).then((ret) => {\r\n            if (ret.status !== 200) {\r\n                throw new Error('Fail to get response with status' + ret.status)\r\n            }\r\n            ret.json().then((res) => {\r\n                if (res.status === 200) {\r\n                    localStorage.setItem('userinfo', JSON.stringify(res.data))\r\n                    window.location=\"/\"\r\n                } else if (res.status === 201) {\r\n                    this.setState({\r\n                        errorMessage: res.message,\r\n                        showErrorMessage: true\r\n                    })\r\n                }\r\n            }).catch((error) => {\r\n                this.setState({\r\n                    errorMessage: error,\r\n                    showErrorMessage: true\r\n                })\r\n            })\r\n        }).catch((error) => {\r\n            this.setState({\r\n                errorMessage: error,\r\n                showErrorMessage: true\r\n            })\r\n        })\r\n       \r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"signUp\">\r\n                <Link to='/'><div className=\"logo\">小书</div></Link>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\"></div>\r\n                    <div className=\"col-md-4 form-wrapper\">\r\n                        <div className=\"title\">\r\n                            <Link className=\"sign-up\" to='/sign_up'>注册</Link>\r\n                            <Link to='/sign_in'>登录</Link>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>用户名</label>\r\n                            <input type=\"text\" className=\"form-control\" id=\"username\" placeholder=\"用户名\"\r\n                                value={this.state.username}\r\n                                onBlur={this.checkUsername.bind(this)}\r\n                                onChange={this.handleChangeUsername.bind(this)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>密码</label>\r\n                            <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"密码\"\r\n                                value={this.state.password}\r\n                                onBlur={this.checkPassword.bind(this)}\r\n                                onChange={this.handleChangePassword.bind(this)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>确认密码</label>\r\n                            <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"确认密码\"\r\n                                value={this.state.repeatPassword}\r\n                                onChange={this.handleChangeRepeatPassword.bind(this)}\r\n                                onBlur={this.checkRepeatPassword.bind(this)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>邮箱</label>\r\n                            <input type=\"email\" className=\"form-control\" id=\"email\" placeholder=\"邮箱\"\r\n                                value={this.state.email}\r\n                                onBlur={this.checkEmail.bind(this)}\r\n                                onChange={this.handleChangeEmail.bind(this)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"checkbox\">\r\n                            <label>\r\n                                <input type=\"checkbox\" /> 我遵守注册规定\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"btn-submit\">\r\n                            <button type=\"submit\" id=\"signup\" className=\"btn btn-primary\"\r\n                                onClick={this.handleOnSubmit.bind(this)}\r\n                            >注册</button>\r\n                        </div>\r\n\r\n                        {this.state.showErrorMessage ? <div id=\"errmsg\" className=\"alert alert-danger \" role=\"alert\">{this.state.errorMessage}</div> : \"\"}\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/SignUp/SignUP.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".signUp{position:relative;height:100%;min-height:750px;background-color:#f1f1f1}.signUp .logo{position:absolute;font-weight:bolder;font-size:50px;left:10%;top:10%}.form-wrapper{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:1px solid #ccc;border-radius:5px;padding:20px;background:#fff;-webkit-box-shadow:0 0 8px rgba(0,0,0,.1);box-shadow:0 0 8px rgba(0,0,0,.1)}.signUp .title{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}.signUp .title a{font-size:20px;font-weight:700}.signUp .title .sign-up{padding-bottom:5px;border-bottom:3px solid orange}.btn-submit{margin-bottom:20px}\", \"\", {\"version\":3,\"sources\":[\"D:/react-express/src/SignUp/css/signup.css\"],\"names\":[],\"mappings\":\"AACA,QACI,kBAAmB,AACnB,YAAa,AACb,iBAAkB,AAClB,wBAA0B,CAC7B,AACD,cACI,kBAAmB,AACnB,mBAAoB,AACpB,eAAgB,AAChB,SAAU,AACV,OAAS,CACZ,AACD,cACI,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,uCAAwC,AACpC,mCAAoC,AAChC,+BAAgC,AACxC,sBAAuB,AACvB,kBAAmB,AACnB,aAAc,AACd,gBAAiB,AACjB,0CAA2C,AACnC,iCAAmC,CAC9C,AAED,eACI,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,4BAA8B,CACrC,AACD,iBACI,eAAgB,AAChB,eAAkB,CACrB,AACD,wBACI,mBAAoB,AACpB,8BAA+B,CAClC,AACD,YACI,kBAAoB,CACvB\",\"file\":\"signup.css\",\"sourcesContent\":[\"\\r\\n.signUp{\\r\\n    position: relative;\\r\\n    height: 100%;\\r\\n    min-height: 750px;\\r\\n    background-color: #f1f1f1;\\r\\n}\\r\\n.signUp .logo{\\r\\n    position: absolute;\\r\\n    font-weight: bolder;\\r\\n    font-size: 50px;\\r\\n    left: 10%;\\r\\n    top: 10%;\\r\\n}\\r\\n.form-wrapper{\\r\\n    position: absolute;\\r\\n    left: 50%;\\r\\n    top: 50%;\\r\\n    -webkit-transform: translate(-50%,-50%);\\r\\n        -ms-transform: translate(-50%,-50%);\\r\\n            transform: translate(-50%,-50%);\\r\\n    border: 1px solid #ccc;\\r\\n    border-radius: 5px;\\r\\n    padding: 20px;\\r\\n    background: #fff;\\r\\n    -webkit-box-shadow: 0 0 8px rgba(0,0,0,.1);\\r\\n            box-shadow: 0 0 8px rgba(0,0,0,.1);\\r\\n}\\r\\n\\r\\n.signUp .title{\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -ms-flex-pack: distribute;\\r\\n        justify-content: space-around;\\r\\n}\\r\\n.signUp .title a{\\r\\n    font-size: 20px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n.signUp .title .sign-up{\\r\\n    padding-bottom: 5px;\\r\\n    border-bottom: 3px solid orange\\r\\n}\\r\\n.btn-submit{\\r\\n    margin-bottom: 20px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./~/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/SignUp/css/signup.css\n// module id = 372\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--4-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./signup.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--4-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./signup.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--4-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./signup.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/SignUp/css/signup.css\n// module id = 376\n// module chunks = 1"],"sourceRoot":""}