webpackJsonp([2],{365:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n.n(o),A=n(9),l=n(375),p=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),c=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={username:"",password:"",showErrorMessage:!1,errorMessage:""},n}return s(t,e),p(t,[{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleChangeRepeatPassword",value:function(e){this.setState({repeatPassword:e.target.value})}},{key:"handleOnSubmit",value:function(){var e=this,t=this.state,n=t.username,r=t.password;if(""===n)return void alert("\u5fc5\u987b\u586b\u5199\u7528\u6237\u540d");if(""===r)return void alert("\u5fc5\u987b\u586b\u5199\u5bc6\u7801");var a={username:this.state.username};localStorage.setItem("userinfo",JSON.stringify(a)),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})}).then(function(t){t.json().then(function(t){200===t.status?(localStorage.setItem("userinfo",JSON.stringify(t.data)),window.location="/"):202===t.status?e.setState({errorMessage:t.data,showErrorMessage:!0}):201===t.status&&e.setState({errorMessage:t.data,showErrorMessage:!0})})})}},{key:"render",value:function(){return i.a.createElement("div",{className:"signIn"},i.a.createElement(A.d,{to:"/"},i.a.createElement("div",{className:"logo"},"\u5c0f\u4e66")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4"}),i.a.createElement("div",{className:"col-md-4 form-wrapper"},i.a.createElement("div",{className:"title"},i.a.createElement(A.d,{to:"/sign_up"},"\u6ce8\u518c"),i.a.createElement(A.d,{to:"/sign_in",className:"signIn-btn"},"\u767b\u5f55")),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"\u7528\u6237\u540d"),i.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"\u7528\u6237\u540d",value:this.state.username,onChange:this.handleChangeUsername.bind(this)})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"\u5bc6\u7801"),i.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"\u5bc6\u7801",value:this.state.password,onChange:this.handleChangePassword.bind(this)})),i.a.createElement("div",{className:"submit-wrapper"},i.a.createElement("button",{type:"submit",id:"signup",className:"btn btn-primary btn-login",onClick:this.handleOnSubmit.bind(this)},"\u767b\u5f55"),i.a.createElement(A.d,{to:"/forgot"},"\u5fd8\u8bb0\u5bc6\u7801")),this.state.showErrorMessage?i.a.createElement("div",{id:"errmsg",className:"alert alert-danger  ",role:"alert"},this.state.errorMessage):"")))}}]),t}(o.Component);t.default=c},371:function(e,t,n){t=e.exports=n(361)(!0),t.push([e.i,".signIn{position:relative;height:100%;min-height:750px;background-color:#f1f1f1}.signIn .logo{position:absolute;font-weight:bolder;font-size:50px;left:10%;top:10%}.form-wrapper{position:absolute;left:50%;top:50%;height:60%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:1px solid #ccc;border-radius:5px;padding:20px;background:#fff;-webkit-box-shadow:0 0 8px rgba(0,0,0,.1);box-shadow:0 0 8px rgba(0,0,0,.1)}.signIn .title{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}.signIn .title a{font-size:20px;font-weight:700}.signIn .title .signIn-btn{padding-bottom:5px;border-bottom:3px solid orange}.submit-wrapper{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-align:center;align-items:center;margin-bottom:20px}.login-method{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}.login-method img{width:50px;height:50px;border-radius:50%}#errmsg{margin-top:30px}","",{version:3,sources:["D:/react-express/src/SignIn/signin.css"],names:[],mappings:"AACA,QACI,kBAAmB,AACnB,YAAa,AACb,iBAAkB,AAClB,wBAA0B,CAC7B,AACD,cACI,kBAAmB,AACnB,mBAAoB,AACpB,eAAgB,AAChB,SAAU,AACV,OAAS,CACZ,AACD,cACI,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,WAAY,AACZ,uCAAwC,AACpC,mCAAoC,AAChC,+BAAgC,AACxC,sBAAuB,AACvB,kBAAmB,AACnB,aAAc,AACd,gBAAiB,AACjB,0CAA2C,AACnC,iCAAmC,CAC9C,AAED,eACI,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,4BAA8B,CACrC,AACD,iBACI,eAAgB,AAChB,eAAkB,CACrB,AACD,2BACI,mBAAoB,AACpB,8BAA+B,CAClC,AACD,gBACI,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,6BAA8B,AAClC,sBAAuB,AACnB,mBAAoB,AACxB,kBAAoB,CACvB,AAID,cACI,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,4BAA8B,CACrC,AACD,kBACI,WAAY,AACZ,YAAa,AACb,iBAAmB,CACtB,AAED,QACI,eAAiB,CACpB",file:"signin.css",sourcesContent:["\r\n.signIn{\r\n    position: relative;\r\n    height: 100%;\r\n    min-height: 750px;\r\n    background-color: #f1f1f1;\r\n}\r\n.signIn .logo{\r\n    position: absolute;\r\n    font-weight: bolder;\r\n    font-size: 50px;\r\n    left: 10%;\r\n    top: 10%;\r\n}\r\n.form-wrapper{\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    height: 60%;\r\n    -webkit-transform: translate(-50%,-50%);\r\n        -ms-transform: translate(-50%,-50%);\r\n            transform: translate(-50%,-50%);\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n    padding: 20px;\r\n    background: #fff;\r\n    -webkit-box-shadow: 0 0 8px rgba(0,0,0,.1);\r\n            box-shadow: 0 0 8px rgba(0,0,0,.1);\r\n}\r\n\r\n.signIn .title{\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-pack: distribute;\r\n        justify-content: space-around;\r\n}\r\n.signIn .title a{\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n}\r\n.signIn .title .signIn-btn{\r\n    padding-bottom: 5px;\r\n    border-bottom: 3px solid orange\r\n}\r\n.submit-wrapper{\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-pack: distribute;\r\n        justify-content: space-around;\r\n    -ms-flex-align: center;\r\n        align-items: center;\r\n    margin-bottom: 20px;\r\n}\r\n.btn-login{\r\n    /* margin-bottom: 20px; */\r\n}\r\n.login-method{\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-pack: distribute;\r\n        justify-content: space-around;\r\n}\r\n.login-method img{\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n}\r\n\r\n#errmsg{\r\n    margin-top: 30px;\r\n}"],sourceRoot:""}])},375:function(e,t,n){var r=n(371);"string"===typeof r&&(r=[[e.i,r,""]]);var a={};a.transform=void 0;n(362)(r,a);r.locals&&(e.exports=r.locals)}});
//# sourceMappingURL=2.cb0faaf2.chunk.js.map